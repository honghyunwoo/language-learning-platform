# ì–¸ì–´ í•™ìŠµ í”Œë«í¼ ì•„í‚¤í…ì²˜ ì‹¬ì¸µ ë¶„ì„ ë¦¬í¬íŠ¸

**ì‘ì„±ì¼**: 2025-10-09
**ë¶„ì„ ë²”ìœ„**: ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜, ê¸°ìˆ  ìŠ¤íƒ, ì½”ë“œ êµ¬ì¡°, í™•ì¥ì„± í‰ê°€
**í”„ë¡œì íŠ¸ ìœ„ì¹˜**: `c:\Users\hynoo\OneDrive\ë°”íƒ• í™”ë©´\ê³µë¶€í•˜ê¸°\language-learning-platform`

---

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°](#2-ì „ì²´-ì•„í‚¤í…ì²˜-êµ¬ì¡°)
3. [ê¸°ìˆ  ìŠ¤íƒ í‰ê°€](#3-ê¸°ìˆ -ìŠ¤íƒ-í‰ê°€)
4. [ì½”ë“œ êµ¬ì¡° í’ˆì§ˆ](#4-ì½”ë“œ-êµ¬ì¡°-í’ˆì§ˆ)
5. [í™•ì¥ì„± í‰ê°€](#5-í™•ì¥ì„±-í‰ê°€)
6. [ê°œì„  ì œì•ˆ](#6-ê°œì„ -ì œì•ˆ)
7. [ê²°ë¡ ](#7-ê²°ë¡ )

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì •ë³´
- **í”„ë¡œì íŠ¸ëª…**: Language Learning Platform (ì–¸ì–´ í•™ìŠµ í”Œë«í¼)
- **ëª©ì **: CEFR ê¸°ë°˜ì˜ ì²´ê³„ì ì¸ ì˜ì–´ í•™ìŠµ í”Œë«í¼
- **ë ˆë²¨**: A1, A2, B1, B2 (4ë‹¨ê³„)
- **í•™ìŠµ ìœ í˜•**: ë“£ê¸°, ë§í•˜ê¸°, ì½ê¸°, ì“°ê¸°, ì–´íœ˜, ë¬¸ë²• (6ê°€ì§€)

### 1.2 í”„ë¡œì íŠ¸ ê·œëª¨
- **ì´ TypeScript/TSX íŒŒì¼**: 93ê°œ
- **ì»´í¬ë„ŒíŠ¸ ìˆ˜**: 33ê°œ
- **í˜ì´ì§€ ìˆ˜**: 19ê°œ
- **Activity JSON ë°ì´í„°**: 48ê°œ
- **íƒ€ì… ì •ì˜**: 8ê°œ íŒŒì¼
- **ì»¤ìŠ¤í…€ í›…**: 17ê°œ

### 1.3 ì£¼ìš” ê¸°ëŠ¥
- ì²´ê³„ì ì¸ 8ì£¼ ì»¤ë¦¬í˜ëŸ¼ (ë ˆë²¨ë³„)
- í•™ìŠµ ì§„í–‰ë¥  ì¶”ì  ë° í†µê³„
- í•™ìŠµ ì¼ì§€ (Journal) ì‹œìŠ¤í…œ
- ì»¤ë®¤ë‹ˆí‹° (ê²Œì‹œíŒ, ìŠ¤í„°ë”” ê·¸ë£¹)
- ì„±ì·¨ ë°°ì§€ ì‹œìŠ¤í…œ
- ì•Œë¦¼ ì‹œìŠ¤í…œ

---

## 2. ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

### 2.1 ì•„í‚¤í…ì²˜ íŒ¨í„´
í”„ë¡œì íŠ¸ëŠ” **Next.js 15 App Router ê¸°ë°˜ì˜ í’€ìŠ¤íƒ ì•„í‚¤í…ì²˜**ë¥¼ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

#### 2.1.1 ê³„ì¸µ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Presentation Layer                 â”‚
â”‚  (Pages, Components, UI Elements)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Business Logic Layer               â”‚
â”‚  (Hooks, State Management, Utils)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Data Access Layer                  â”‚
â”‚  (Firebase SDK, API Calls)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          External Services                  â”‚
â”‚  (Firebase Auth, Firestore, Storage)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.2 ë””ë ‰í† ë¦¬ êµ¬ì¡° ë¶„ì„

**ë£¨íŠ¸ ë ˆë²¨ êµ¬ì¡°**:
```
language-learning-platform/
â”œâ”€â”€ app/                    # Next.js 15 App Router í˜ì´ì§€
â”œâ”€â”€ components/             # React ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/                  # ì»¤ìŠ¤í…€ React í›…
â”œâ”€â”€ lib/                    # ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ types/                  # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ stores/                 # Zustand ìƒíƒœ ê´€ë¦¬
â”œâ”€â”€ data/                   # ì •ì  ë°ì´í„° (JSON)
â”œâ”€â”€ content/                # ì»¤ë¦¬í˜ëŸ¼ ì»¨í…ì¸ 
â”œâ”€â”€ public/                 # ì •ì  íŒŒì¼
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â””â”€â”€ tests/                  # í…ŒìŠ¤íŠ¸ íŒŒì¼
```

**App Router êµ¬ì¡°** (`app/`):
```
app/
â”œâ”€â”€ layout.tsx              # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”œâ”€â”€ page.tsx                # í™ˆ í˜ì´ì§€
â”œâ”€â”€ login/                  # ë¡œê·¸ì¸ í˜ì´ì§€
â”œâ”€â”€ signup/                 # íšŒì›ê°€ì… í˜ì´ì§€
â””â”€â”€ dashboard/              # ë³´í˜¸ëœ ì˜ì—­
    â”œâ”€â”€ layout.tsx          # ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
    â”œâ”€â”€ page.tsx            # ëŒ€ì‹œë³´ë“œ ë©”ì¸
    â”œâ”€â”€ curriculum/         # ì»¤ë¦¬í˜ëŸ¼
    â”‚   â”œâ”€â”€ page.tsx
    â”‚   â”œâ”€â”€ [weekId]/
    â”‚   â”‚   â”œâ”€â”€ page.tsx
    â”‚   â”‚   â””â”€â”€ [activityId]/
    â”‚   â”‚       â””â”€â”€ page.tsx
    â”œâ”€â”€ journal/            # í•™ìŠµ ì¼ì§€
    â”‚   â”œâ”€â”€ page.tsx
    â”‚   â””â”€â”€ [date]/
    â”œâ”€â”€ community/          # ì»¤ë®¤ë‹ˆí‹°
    â”‚   â”œâ”€â”€ page.tsx
    â”‚   â”œâ”€â”€ write/
    â”‚   â”œâ”€â”€ groups/
    â”‚   â”œâ”€â”€ new/
    â”‚   â””â”€â”€ [id]/
    â”œâ”€â”€ achievements/       # ì„±ì·¨ ì‹œìŠ¤í…œ
    â”œâ”€â”€ resources/          # í•™ìŠµ ìë£Œ
    â”œâ”€â”€ profile/            # í”„ë¡œí•„
    â””â”€â”€ settings/           # ì„¤ì •
```

**ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°** (`components/`):
```
components/
â”œâ”€â”€ activities/         # í™œë™ íƒ€ì…ë³„ ì»´í¬ë„ŒíŠ¸ (6ê°œ)
â”œâ”€â”€ auth/              # ì¸ì¦ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ curriculum/        # ì»¤ë¦¬í˜ëŸ¼ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ dashboard/         # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ journal/           # ì €ë„ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ community/         # ì»¤ë®¤ë‹ˆí‹° ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ achievements/      # ì„±ì·¨ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ notifications/     # ì•Œë¦¼ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ layout/            # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ ui/                # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â””â”€â”€ ErrorBoundary.tsx  # ì „ì—­ ì—ëŸ¬ ì²˜ë¦¬
```

### 2.2 ì„¤ê³„ íŒ¨í„´ ì‚¬ìš© í˜„í™©

#### 2.2.1 ì»´í¬ë„ŒíŠ¸ íŒ¨í„´

**1. Container/Presenter íŒ¨í„´**
- **í™œìš©**: í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì™€ í‘œí˜„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
- **ì˜ˆì‹œ**: `dashboard/page.tsx` (Container) + `dashboard/StatsCard.tsx` (Presenter)
- **í‰ê°€**: âœ… ì˜ êµ¬í˜„ë¨

**2. Compound Component íŒ¨í„´**
- **í™œìš©**: UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (`components/ui/`)
- **ì˜ˆì‹œ**: Card, Modal, Input ë“±
- **í‰ê°€**: âœ… ì¬ì‚¬ìš©ì„± ë†’ìŒ

**3. Higher-Order Component (HOC) íŒ¨í„´**
- **í™œìš©**: `ProtectedRoute` ì»´í¬ë„ŒíŠ¸
- **í‰ê°€**: âœ… ì¸ì¦ ë¡œì§ ì˜ ë¶„ë¦¬ë¨

```typescript
// components/auth/ProtectedRoute.tsx
export default function ProtectedRoute({ children }: ProtectedRouteProps) {
  const { isAuthenticated, loading } = useAuth();

  useEffect(() => {
    if (!loading && !isAuthenticated) {
      router.push(`/login?redirect=${redirectUrl}`);
    }
  }, [isAuthenticated, loading]);

  return loading ? <LoadingSpinner /> : isAuthenticated ? children : null;
}
```

#### 2.2.2 ìƒíƒœ ê´€ë¦¬ íŒ¨í„´

**1. Custom Hooks íŒ¨í„´**
- **í™œìš©**: 17ê°œì˜ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€ í›…
- **ì¥ì **: ë¡œì§ ì¬ì‚¬ìš©ì„±, í…ŒìŠ¤íŠ¸ ìš©ì´ì„±
- **ì˜ˆì‹œ**:
  ```typescript
  // hooks/useAuth.ts
  export const useAuth = () => {
    const [currentUser, setCurrentUser] = useState<User | null>(null);
    const [loading, setLoading] = useState(true);
    // ... Firebase ì¸ì¦ ë¡œì§
    return { currentUser, loading, signIn, signUp, logout };
  };
  ```

**2. React Query íŒ¨í„´**
- **í™œìš©**: ì„œë²„ ìƒíƒœ ê´€ë¦¬
- **ì„¤ì •**: 5ë¶„ staleTime, 3ë²ˆ ì¬ì‹œë„, ì§€ìˆ˜ ë°±ì˜¤í”„
- **ì˜ˆì‹œ**:
  ```typescript
  // hooks/useActivityData.ts
  export function useActivityData(type: ActivityType, weekId: string) {
    return useQuery({
      queryKey: ['activityData', type, weekId],
      queryFn: async () => { /* ... */ },
      staleTime: Infinity,  // ì •ì  ë°ì´í„°
      retry: 1,
    });
  }
  ```

**3. Zustand íŒ¨í„´**
- **í™œìš©**: í´ë¼ì´ì–¸íŠ¸ ì „ì—­ ìƒíƒœ
- **ë²”ìœ„**: ì‚¬ìš©ì ì •ë³´ (`stores/userStore.ts`)
- **í‰ê°€**: âš ï¸ í˜„ì¬ 1ê°œë§Œ ì‚¬ìš©, í™•ì¥ í•„ìš”

#### 2.2.3 ë°ì´í„° ì ‘ê·¼ íŒ¨í„´

**1. Repository íŒ¨í„´ (ë¶€ë¶„ì )**
- **í™œìš©**: Firebase ì ‘ê·¼ ë¡œì§ì„ í›…ìœ¼ë¡œ ìº¡ìŠí™”
- **ì˜ˆì‹œ**: `lib/firebase/progress.ts`, `lib/firebase/notifications.ts`
- **í‰ê°€**: âš ï¸ ì¼ë¶€ íŒŒì¼ë§Œ ë¶„ë¦¬, ì¼ê´€ì„± ë¶€ì¡±

**2. Factory íŒ¨í„´**
- **í™œìš©**: Activity ì»´í¬ë„ŒíŠ¸ ë¼ìš°íŒ…
- **ì˜ˆì‹œ**:
  ```typescript
  // components/activities/ActivityContent.tsx
  switch (activity.type) {
    case 'vocabulary': return <VocabularyActivity data={data} />;
    case 'reading': return <ReadingActivity data={data} />;
    // ...
  }
  ```

### 2.3 ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ë¶„ì„

#### 2.3.1 ì˜ì¡´ì„± ê·¸ë˜í”„
```
Pages (app/)
  â†“ depends on
Components (components/)
  â†“ depends on
Hooks (hooks/)
  â†“ depends on
Lib (lib/) â† Types (types/)
  â†“ depends on
Firebase SDK
```

#### 2.3.2 ì˜ì¡´ì„± íŠ¹ì§•
- **ê°•ì **: ë‹¨ë°©í–¥ ì˜ì¡´ì„± íë¦„
- **ì•½ì **: ì¼ë¶€ ì»´í¬ë„ŒíŠ¸ì—ì„œ Firebase SDK ì§ì ‘ í˜¸ì¶œ
- **ê°œì„  í•„ìš”**: ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ê°€ í•„ìš”

#### 2.3.3 ìˆœí™˜ ì˜ì¡´ì„± ê²€ì‚¬
```bash
# ë¶„ì„ ê²°ê³¼: ìˆœí™˜ ì˜ì¡´ì„± ì—†ìŒ âœ…
```

---

## 3. ê¸°ìˆ  ìŠ¤íƒ í‰ê°€

### 3.1 í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬

#### 3.1.1 Core Framework
| ê¸°ìˆ  | ë²„ì „ | í‰ê°€ | ë¹„ê³  |
|------|------|------|------|
| **Next.js** | 15.5.4 | âœ… ìµœì‹  | App Router ì‚¬ìš©, ìµœì‹  ê¸°ëŠ¥ í™œìš© |
| **React** | 19.1.0 | âœ… ìµœì‹  | ì•ˆì •ì ì¸ ìµœì‹  ë²„ì „ |
| **TypeScript** | 5.x | âœ… ìµœì‹  | íƒ€ì… ì•ˆì „ì„± í™•ë³´ |

**í‰ê°€**:
- âœ… **ìµœì‹  ë²„ì „ ì‚¬ìš©**: Next.js 15, React 19 ë“± ìµœì‹  ë²„ì „ ì±„íƒ
- âœ… **App Router í™œìš©**: Next.js 13+ ì˜ ìƒˆë¡œìš´ ë¼ìš°íŒ… ì‹œìŠ¤í…œ ì‚¬ìš©
- âœ… **íƒ€ì… ì•ˆì „ì„±**: TypeScript strict ëª¨ë“œ í™œì„±í™”

#### 3.1.2 State Management
| ê¸°ìˆ  | ë²„ì „ | í‰ê°€ | ë¹„ê³  |
|------|------|------|------|
| **React Query** | 5.90.2 | âœ… ìµœì‹  | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| **Zustand** | 5.0.8 | âœ… ìµœì‹  | í´ë¼ì´ì–¸íŠ¸ ì „ì—­ ìƒíƒœ |

**í‰ê°€**:
- âœ… **ì ì ˆí•œ ë„êµ¬ ì„ íƒ**: React Query (ì„œë²„) + Zustand (í´ë¼ì´ì–¸íŠ¸) ì¡°í•©
- âœ… **ìµœì†Œì£¼ì˜ ì ‘ê·¼**: Redux ê°™ì€ ë¬´ê±°ìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë°°ì œ
- âš ï¸ **í™œìš©ë„**: ZustandëŠ” 1ê°œ ìŠ¤í† ì–´ë§Œ ì‚¬ìš©, í™•ì¥ ì—¬ì§€ ìˆìŒ

#### 3.1.3 Backend & Database
| ê¸°ìˆ  | ë²„ì „ | í‰ê°€ | ë¹„ê³  |
|------|------|------|------|
| **Firebase** | 12.3.0 | âœ… ìµœì‹  | Authentication, Firestore |
| **Firestore** | - | âœ… | NoSQL ë°ì´í„°ë² ì´ìŠ¤ |

**í‰ê°€**:
- âœ… **Firebase í†µí•©**: Auth, Firestore ì˜ í†µí•©ë¨
- âœ… **ë³´ì•ˆ ê·œì¹™**: ì²´ê³„ì ì¸ Firestore Security Rules êµ¬í˜„
- âš ï¸ **Storage ë¹„í™œì„±í™”**: ê²°ì œ ë¬¸ì œë¡œ Firebase Storage ë¯¸ì‚¬ìš©

#### 3.1.4 UI/UX Libraries
| ê¸°ìˆ  | ë²„ì „ | í‰ê°€ | ë¹„ê³  |
|------|------|------|------|
| **Tailwind CSS** | 4.x | âœ… ìµœì‹  | ìœ í‹¸ë¦¬í‹° ìŠ¤íƒ€ì¼ë§ |
| **Headless UI** | 2.2.9 | âœ… ìµœì‹  | ì ‘ê·¼ì„± ì¢‹ì€ ì»´í¬ë„ŒíŠ¸ |
| **Heroicons** | 2.2.0 | âœ… | ì¼ê´€ëœ ì•„ì´ì½˜ ì‹œìŠ¤í…œ |
| **Chart.js** | 4.5.0 | âœ… | í•™ìŠµ í†µê³„ ì‹œê°í™” |

**í‰ê°€**:
- âœ… **í˜„ëŒ€ì  ìŠ¤íƒ€ì¼ë§**: Tailwind CSS v4 ì‚¬ìš©
- âœ… **ì ‘ê·¼ì„± ê³ ë ¤**: Headless UIë¡œ ì ‘ê·¼ì„± í™•ë³´
- âœ… **ì‹œê°í™”**: Chart.jsë¡œ í•™ìŠµ í†µê³„ íš¨ê³¼ì  í‘œí˜„

#### 3.1.5 Content & Markdown
| ê¸°ìˆ  | ë²„ì „ | í‰ê°€ | ë¹„ê³  |
|------|------|------|------|
| **react-markdown** | 10.1.0 | âœ… | ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ |
| **remark-gfm** | 4.0.1 | âœ… | GitHub Flavored Markdown |
| **rehype-highlight** | 7.0.2 | âœ… | ì½”ë“œ êµ¬ë¬¸ ê°•ì¡° |
| **dompurify** | 3.2.7 | âœ… | XSS ë°©ì§€ |

**í‰ê°€**:
- âœ… **ë³´ì•ˆ**: DOMPurifyë¡œ XSS ê³µê²© ë°©ì§€
- âœ… **ê¸°ëŠ¥ì„±**: GFM, ì½”ë“œ í•˜ì´ë¼ì´íŒ… ì§€ì›
- âœ… **ì»¨í…ì¸  ê´€ë¦¬**: ë§ˆí¬ë‹¤ìš´ ê¸°ë°˜ ìœ ì—°í•œ ì»¨í…ì¸ 

### 3.2 TypeScript ì„¤ì • ë¶„ì„

#### 3.2.1 `tsconfig.json` í‰ê°€
```json
{
  "compilerOptions": {
    "target": "ES2017",           // âœ… ì ì ˆí•œ íƒ€ê²Ÿ
    "strict": true,               // âœ… ì—„ê²© ëª¨ë“œ í™œì„±í™”
    "noEmit": true,               // âœ… Next.jsê°€ ì»´íŒŒì¼ ë‹´ë‹¹
    "esModuleInterop": true,      // âœ… CommonJS í˜¸í™˜ì„±
    "moduleResolution": "bundler", // âœ… ìµœì‹  í•´ì„ ë°©ì‹
    "paths": { "@/*": ["./*"] }   // âœ… ì ˆëŒ€ ê²½ë¡œ ë³„ì¹­
  }
}
```

**ê°•ì **:
- âœ… **Strict ëª¨ë“œ**: íƒ€ì… ì•ˆì „ì„± ìµœëŒ€í™”
- âœ… **Path Alias**: `@/` ë³„ì¹­ìœ¼ë¡œ ê¹”ë”í•œ ì„í¬íŠ¸
- âœ… **ìµœì‹  ì„¤ì •**: bundler ëª¨ë“ˆ í•´ì„ ì‚¬ìš©

**ê°œì„  í•„ìš”**:
- âš ï¸ **skipLibCheck**: `true`ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ íƒ€ì… ì²´í¬ ì¼ë¶€ ìŠ¤í‚µ

### 3.3 Next.js ì„¤ì • ë¶„ì„

#### 3.3.1 `next.config.ts` í‰ê°€
```typescript
const nextConfig: NextConfig = {
  outputFileTracingRoot: path.join(__dirname),
  images: {
    remotePatterns: [
      { protocol: 'https', hostname: 'lh3.googleusercontent.com' },
      { protocol: 'https', hostname: 'firebasestorage.googleapis.com' }
    ]
  }
};
```

**ê°•ì **:
- âœ… **ì´ë¯¸ì§€ ìµœì í™”**: ì›ê²© ì´ë¯¸ì§€ íŒ¨í„´ ì •ì˜
- âœ… **ë³´ì•ˆ**: í—ˆìš©ëœ í˜¸ìŠ¤íŠ¸ë§Œ ì´ë¯¸ì§€ ë¡œë“œ

**ê°œì„  í•„ìš”**:
- âš ï¸ **í™˜ê²½ë³„ ì„¤ì • ë¶€ì¬**: ê°œë°œ/í”„ë¡œë•ì…˜ ë¶„ë¦¬ ì—†ìŒ
- âš ï¸ **ì„±ëŠ¥ ìµœì í™” ë¶€ì¬**: SWC minify, compression ë“± ë¯¸ì„¤ì •

### 3.4 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒì˜ ì ì ˆì„±

#### 3.4.1 ì¥ì 
1. **ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ**: ëª¨ë“  ì£¼ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ ìµœì‹  ë²„ì „
2. **ê²½ëŸ‰í™”**: í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì„ íƒì  ì‚¬ìš©
3. **íƒ€ì… ì•ˆì „ì„±**: TypeScript + íƒ€ì… ì •ì˜ íŒ¨í‚¤ì§€ í™œìš©
4. **ë³´ì•ˆ ê³ ë ¤**: DOMPurify, Firebase Rules ë“±

#### 3.4.2 ê°œì„  í•„ìš”
1. **ë²ˆë“¤ í¬ê¸° ìµœì í™” ë„êµ¬ ë¶€ì¬**: bundle-analyzer ë¯¸ì‚¬ìš©
2. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ë¶€ì¬**: Sentry, Vercel Analytics ë“± ë¯¸ì„¤ì •
3. **í…ŒìŠ¤íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶€ì¬**: Jest, Testing Library ë¯¸ì„¤ì¹˜

---

## 4. ì½”ë“œ êµ¬ì¡° í’ˆì§ˆ

### 4.1 ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ë¶„ì„

#### 4.1.1 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°
```
â”œâ”€â”€ Page Components (Smart)
â”‚   â””â”€â”€ Feature Components (Smart)
â”‚       â””â”€â”€ UI Components (Dumb)
â”‚           â””â”€â”€ Atomic UI Elements
```

**í‰ê°€**: âœ… ëª…í™•í•œ ê³„ì¸µ êµ¬ì¡°

#### 4.1.2 ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ì‚¬ë¡€ ë¶„ì„

**1. ActivityContent ì»´í¬ë„ŒíŠ¸** (ë¼ìš°í„° ì—­í• )
```typescript
// components/activities/ActivityContent.tsx
export default function ActivityContent({ activity, weekId }: ActivityContentProps) {
  const { data, isLoading, error } = useActivityData(activity.type, weekId);

  if (isLoading) return <LoadingState />;
  if (error) return <ErrorState />;

  switch (activity.type) {
    case 'vocabulary': return <VocabularyActivity data={data} />;
    case 'reading': return <ReadingActivity data={data} />;
    // ... 6ê°€ì§€ íƒ€ì…
  }
}
```

**í‰ê°€**:
- âœ… **ì±…ì„ ë¶„ë¦¬**: ë¼ìš°íŒ… ë¡œì§ë§Œ ë‹´ë‹¹
- âœ… **ë¡œë”©/ì—ëŸ¬ ì²˜ë¦¬**: ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜
- âœ… **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ íƒ€ì… ë³´ì¥

**2. Dashboard í˜ì´ì§€** (ë³µí•© ì»´í¬ë„ŒíŠ¸)
```typescript
// app/dashboard/page.tsx (325ì¤„)
export default function DashboardPage() {
  // 8ê°œì˜ ì»¤ìŠ¤í…€ í›… ì‚¬ìš©
  const { currentUser } = useAuth();
  const { data: progress } = useUserProgress(currentUser?.uid);
  const { weeklyData } = useWeeklyStats(currentUser?.uid);
  // ...

  return (
    <div className="min-h-screen">
      {/* í™˜ì˜ ë©”ì‹œì§€ */}
      {/* í†µê³„ ì¹´ë“œ ê·¸ë¦¬ë“œ */}
      {/* ì£¼ê°„ í•™ìŠµ ì‹œê°„ ì°¨íŠ¸ */}
      {/* ì „ì²´ ì§„í–‰ë¥  ì¹´ë“œ */}
      {/* í•™ìŠµ í†µê³„ ë° ì˜ì—­ë³„ ì§„í–‰ë¥  */}
    </div>
  );
}
```

**í‰ê°€**:
- âš ï¸ **ì»´í¬ë„ŒíŠ¸ í¬ê¸°**: 325ì¤„ë¡œ ë‹¤ì†Œ í¼
- âœ… **í›… í™œìš©**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜ ë¶„ë¦¬
- âœ… **ì»´í¬ì§€ì…˜**: ì‘ì€ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì¡°í•©
- ğŸ”´ **ê°œì„  í•„ìš”**: ì„¹ì…˜ë³„ë¡œ ë” ì„¸ë¶„í™” ê°€ëŠ¥

#### 4.1.3 UI ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„±
```
components/ui/
â”œâ”€â”€ Badge.tsx           âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
â”œâ”€â”€ Button.tsx          âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
â”œâ”€â”€ Card.tsx            âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
â”œâ”€â”€ Input.tsx           âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
â”œâ”€â”€ Modal.tsx           âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
â””â”€â”€ Breadcrumb.tsx      âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
```

**í‰ê°€**: âœ… ì˜ ì„¤ê³„ëœ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

### 4.2 íƒ€ì… ì•ˆì „ì„± ë¶„ì„

#### 4.2.1 íƒ€ì… ì •ì˜ êµ¬ì¡°
```
types/
â”œâ”€â”€ achievement.ts      âœ… ì„±ì·¨ ì‹œìŠ¤í…œ íƒ€ì…
â”œâ”€â”€ community.ts        âœ… ì»¤ë®¤ë‹ˆí‹° íƒ€ì…
â”œâ”€â”€ curriculum.ts       âœ… ì»¤ë¦¬í˜ëŸ¼ íƒ€ì…
â”œâ”€â”€ journal.ts          âœ… ì €ë„ íƒ€ì…
â”œâ”€â”€ notification.ts     âœ… ì•Œë¦¼ íƒ€ì…
â”œâ”€â”€ progress.ts         âœ… ì§„í–‰ë¥  íƒ€ì…
â”œâ”€â”€ resource.ts         âœ… ë¦¬ì†ŒìŠ¤ íƒ€ì…
â””â”€â”€ user.ts             âœ… ì‚¬ìš©ì íƒ€ì…
```

**í‰ê°€**: âœ… ë„ë©”ì¸ë³„ë¡œ ì˜ ë¶„ë¦¬ëœ íƒ€ì… ì •ì˜

#### 4.2.2 íƒ€ì… ì •ì˜ í’ˆì§ˆ í‰ê°€

**1. User íƒ€ì…**
```typescript
// types/user.ts
export type UserLevel = 'A1' | 'A2' | 'B1' | 'B2';  // âœ… ë¦¬í„°ëŸ´ íƒ€ì…
export type LearningGoal = 'travel' | 'business' | 'exam' | 'hobby';
export type DailyLearningTime = 30 | 60 | 90;

export interface User {
  uid: string;
  email: string;
  nickname: string;
  level: UserLevel;
  learningGoal: LearningGoal;
  dailyLearningTime: DailyLearningTime;
  // ... ëª¨ë“  í•„ë“œ íƒ€ì… ì •ì˜
}
```

**í‰ê°€**:
- âœ… **ë¦¬í„°ëŸ´ íƒ€ì…**: í—ˆìš© ê°’ ëª…í™•íˆ ì œí•œ
- âœ… **ëª…ì‹œì  íƒ€ì…**: ëª¨ë“  í•„ë“œ íƒ€ì… ì •ì˜
- âœ… **ë¬¸ì„œí™”**: íƒ€ì…ë§Œìœ¼ë¡œ ë°ì´í„° êµ¬ì¡° ì´í•´ ê°€ëŠ¥

**2. Curriculum íƒ€ì…**
```typescript
// types/curriculum.ts
export interface Activity {
  id: string;
  type: ActivityType;  // Union type
  title: string;
  description: string;
  duration: number;
  difficulty: ActivityDifficulty;  // 1 | 2 | 3 | 4
  order: number;
  requiredForCompletion: boolean;
  resources?: ActivityResource;  // Optional
  tags?: string[];
}
```

**í‰ê°€**:
- âœ… **íƒ€ì… ì¡°í•©**: Union, Literal, Optional ì ì ˆíˆ í™œìš©
- âœ… **ì˜ë¯¸ ìˆëŠ” íƒ€ì…**: ActivityDifficulty ë“± ë„ë©”ì¸ ì˜ë¯¸ ë°˜ì˜

#### 4.2.3 íƒ€ì… ì•ˆì „ì„± ê²€ì¦
```typescript
// íƒ€ì… ê°€ë“œ ì‚¬ìš© ì˜ˆì‹œ (lib/firebase.ts)
const validateFirebaseConfig = (config: FirebaseConfig): void => {
  const requiredFields: (keyof FirebaseConfig)[] = [
    'apiKey', 'authDomain', 'projectId', // ...
  ];
  const missingFields = requiredFields.filter(field => !config[field]);
  if (missingFields.length > 0) {
    throw new Error(`Firebase ì„¤ì • ì˜¤ë¥˜: ${missingFields.join(', ')}`);
  }
};
```

**í‰ê°€**: âœ… ëŸ°íƒ€ì„ íƒ€ì… ê²€ì¦ìœ¼ë¡œ ì•ˆì „ì„± ê°•í™”

### 4.3 ì»¤ìŠ¤í…€ í›… ë¶„ì„

#### 4.3.1 í›… êµ¬ì¡°
```
hooks/
â”œâ”€â”€ useAuth.ts                  âœ… ì¸ì¦ (280ì¤„)
â”œâ”€â”€ useActivityData.ts          âœ… í™œë™ ë°ì´í„° ë¡œë“œ
â”œâ”€â”€ useActivityProgress.ts      âœ… í™œë™ ì§„í–‰ë¥ 
â”œâ”€â”€ useCommunity.ts             âœ… ì»¤ë®¤ë‹ˆí‹°
â”œâ”€â”€ useCurriculum.ts            âœ… ì»¤ë¦¬í˜ëŸ¼
â”œâ”€â”€ useFirestore.ts             âœ… Firestore ê³µí†µ
â”œâ”€â”€ useJournal.ts               âœ… ì €ë„
â”œâ”€â”€ useOverallProgress.ts       âœ… ì „ì²´ ì§„í–‰ë¥ 
â”œâ”€â”€ useUserProgress.ts          âœ… ì‚¬ìš©ì ì§„í–‰ë¥ 
â”œâ”€â”€ useResources.ts             âœ… ë¦¬ì†ŒìŠ¤
â”œâ”€â”€ useTTS.ts                   âœ… ìŒì„± í•©ì„±
â””â”€â”€ use[Activity]Progress.ts   âœ… í™œë™ë³„ ì§„í–‰ë¥  (6ê°œ)
```

**í‰ê°€**: âœ… ë„ë©”ì¸ë³„ë¡œ ì˜ ë¶„ë¦¬ëœ 17ê°œ í›…

#### 4.3.2 í›… í’ˆì§ˆ ë¶„ì„

**1. useAuth í›…**
```typescript
// hooks/useAuth.ts (280ì¤„)
export const useAuth = () => {
  const [currentUser, setCurrentUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  // Firebase ì¸ì¦ ìƒíƒœ êµ¬ë…
  useEffect(() => {
    const unsubscribe = onAuthStateChanged(auth, async (user) => {
      // Firestoreì—ì„œ í”„ë¡œí•„ ë¡œë“œ
      // ...
    });
    return unsubscribe;
  }, []);

  // ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸, Google ë¡œê·¸ì¸ í•¨ìˆ˜ë“¤
  return { currentUser, loading, error, signIn, signUp, signInWithGoogle, logout };
};
```

**í‰ê°€**:
- âœ… **í¬ê´„ì  ê¸°ëŠ¥**: ëª¨ë“  ì¸ì¦ ë¡œì§ ìº¡ìŠí™”
- âœ… **ì—ëŸ¬ ì²˜ë¦¬**: í•œêµ­ì–´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ
- âœ… **ìƒíƒœ ê´€ë¦¬**: loading, error ìƒíƒœ ì˜ ê´€ë¦¬
- âš ï¸ **í¬ê¸°**: 280ì¤„ë¡œ ë‹¤ì†Œ í¼, ë¶„ë¦¬ ê²€í†  í•„ìš”

**2. useActivityData í›…**
```typescript
// hooks/useActivityData.ts (41ì¤„)
export function useActivityData(type: ActivityType, weekId: string) {
  return useQuery({
    queryKey: ['activityData', type, weekId],
    queryFn: async () => {
      const weekNumber = extractWeekNumber(weekId);
      const data = await import(`@/data/activities/${type}/${fileName}-${type}.json`);
      return data.default;
    },
    staleTime: Infinity,  // ì •ì  ë°ì´í„°
    retry: 1,
  });
}
```

**í‰ê°€**:
- âœ… **React Query í™œìš©**: ìºì‹±, ì—ëŸ¬ ì²˜ë¦¬ ìë™í™”
- âœ… **Dynamic Import**: í•„ìš”í•œ ë°ì´í„°ë§Œ ë¡œë“œ
- âœ… **ì ì ˆí•œ ì„¤ì •**: ì •ì  ë°ì´í„° ë¬´í•œ ìºì‹±

### 4.4 ìƒíƒœ ê´€ë¦¬ í’ˆì§ˆ

#### 4.4.1 Zustand Store
```typescript
// stores/userStore.ts (23ì¤„)
interface UserState {
  user: User | null;
  setUser: (user: User | null) => void;
  updateUser: (updates: Partial<User>) => void;
  clearUser: () => void;
}

export const useUserStore = create<UserState>((set) => ({
  user: null,
  setUser: (user) => set({ user }),
  updateUser: (updates) => set((state) => ({
    user: state.user ? { ...state.user, ...updates } : null
  })),
  clearUser: () => set({ user: null }),
}));
```

**í‰ê°€**:
- âœ… **ê°„ê²°í•¨**: 23ì¤„ì˜ ì‹¬í”Œí•œ êµ¬í˜„
- âœ… **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ íƒ€ì… ë³´ì¥
- âš ï¸ **í™œìš©ë„**: í˜„ì¬ 1ê°œ ìŠ¤í† ì–´ë§Œ ì‚¬ìš©
- ğŸ”´ **ê°œì„  í•„ìš”**: ë” ë§ì€ ì „ì—­ ìƒíƒœë¥¼ Zustandë¡œ ê´€ë¦¬ ê°€ëŠ¥

#### 4.4.2 React Query ì„¤ì •
```typescript
// lib/providers.tsx
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 1000 * 60 * 5,  // 5ë¶„
      retry: 3,
      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),
    },
  },
});
```

**í‰ê°€**:
- âœ… **ì ì ˆí•œ ìºì‹±**: 5ë¶„ staleTime
- âœ… **ì§€ìˆ˜ ë°±ì˜¤í”„**: ì¬ì‹œë„ ê°„ê²© ì ì§„ì  ì¦ê°€
- âœ… **ì—ëŸ¬ ë³µì›ë ¥**: 3ë²ˆ ì¬ì‹œë„

### 4.5 Firebase í†µí•© í’ˆì§ˆ

#### 4.5.1 Firebase ì´ˆê¸°í™”
```typescript
// lib/firebase.ts (72ì¤„)
const validateFirebaseConfig = (config: FirebaseConfig): void => {
  const requiredFields = ['apiKey', 'authDomain', /* ... */];
  const missingFields = requiredFields.filter(field => !config[field]);
  if (missingFields.length > 0) {
    throw new Error(`Firebase ì„¤ì • ì˜¤ë¥˜: ${missingFields.join(', ')}`);
  }
};

// ì¤‘ë³µ ì´ˆê¸°í™” ë°©ì§€
let app: FirebaseApp;
if (!getApps().length) {
  app = initializeApp(firebaseConfig);
} else {
  app = getApps()[0];
}
```

**í‰ê°€**:
- âœ… **í™˜ê²½ë³€ìˆ˜ ê²€ì¦**: ëˆ„ë½ëœ ì„¤ì • ëª…í™•íˆ ì•Œë¦¼
- âœ… **ì¤‘ë³µ ë°©ì§€**: getApps()ë¡œ ì¬ì´ˆê¸°í™” ë°©ì§€
- âœ… **íƒ€ì… ì•ˆì „ì„±**: FirebaseConfig ì¸í„°í˜ì´ìŠ¤ ì •ì˜

#### 4.5.2 Firestore Security Rules
```javascript
// firestore.rules (186ì¤„)
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    function isAuthenticated() {
      return request.auth != null;
    }
    function isOwner(userId) {
      return isAuthenticated() && request.auth.uid == userId;
    }

    match /users/{userId} {
      allow read: if true;  // ê³µê°œ ì •ë³´
      allow create, update: if isOwner(userId);
      allow delete: if false;  // ê´€ë¦¬ìë§Œ
    }
    // ... 11ê°œ ì»¬ë ‰ì…˜ ê·œì¹™
  }
}
```

**í‰ê°€**:
- âœ… **ì²´ê³„ì  ë³´ì•ˆ**: 11ê°œ ì»¬ë ‰ì…˜ ëª¨ë‘ ê·œì¹™ ì •ì˜
- âœ… **í—¬í¼ í•¨ìˆ˜**: isAuthenticated, isOwner ì¬ì‚¬ìš©
- âœ… **ì„¸ë°€í•œ ê¶Œí•œ**: read/create/update/delete ê°œë³„ ì œì–´
- âœ… **ë°ì´í„° ë¬´ê²°ì„±**: authorId, userId ê²€ì¦

---

## 5. í™•ì¥ì„± í‰ê°€

### 5.1 ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´ì„±

#### 5.1.1 ìƒˆ Activity íƒ€ì… ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤
**í˜„ì¬ êµ¬ì¡°**:
```
1. types/curriculum.tsì— íƒ€ì… ì¶”ê°€
2. data/activities/[new-type]/ ë””ë ‰í† ë¦¬ ìƒì„±
3. components/activities/[NewType]Activity.tsx ì»´í¬ë„ŒíŠ¸ ìƒì„±
4. ActivityContent.tsxì— switch case ì¶”ê°€
5. hooks/use[NewType]Progress.ts í›… ìƒì„±
```

**í‰ê°€**:
- âœ… **ëª…í™•í•œ íŒ¨í„´**: ì¼ê´€ëœ íŒŒì¼ êµ¬ì¡°
- âœ… **íƒ€ì… ì•ˆì „ì„±**: íƒ€ì… ì •ì˜ë§Œìœ¼ë¡œ IDE ìë™ì™„ì„±
- âš ï¸ **ë°˜ë³µ ì‘ì—…**: 5ë‹¨ê³„ ìˆ˜ë™ ì‘ì—… í•„ìš”
- ğŸ”´ **ê°œì„  ë°©í–¥**: ì½”ë“œ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ë˜ëŠ” íŒ©í† ë¦¬ íŒ¨í„´ ê°•í™”

#### 5.1.2 ìƒˆ í˜ì´ì§€ ì¶”ê°€ ì‹œë‚˜ë¦¬ì˜¤
**í˜„ì¬ êµ¬ì¡°**:
```
1. app/dashboard/[new-page]/page.tsx ìƒì„±
2. components/layout/Sidebar.tsxì— ë©”ë‰´ ì¶”ê°€
3. types/[new-feature].ts íƒ€ì… ì •ì˜
4. hooks/use[NewFeature].ts í›… ìƒì„±
5. Firestore rules ì—…ë°ì´íŠ¸
```

**í‰ê°€**:
- âœ… **App Router**: íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…ìœ¼ë¡œ ê°„í¸
- âœ… **ë³´ì•ˆ ê³ ë ¤**: Firestore rules ì—…ë°ì´íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸í™”
- âœ… **íƒ€ì… ìš°ì„ **: íƒ€ì… ì •ì˜ë¶€í„° ì‹œì‘í•˜ëŠ” íë¦„

### 5.2 ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥ì„±

#### 5.2.1 ì‚¬ìš©ì ê·œëª¨ í™•ì¥
**í˜„ì¬ ì•„í‚¤í…ì²˜ ë¶„ì„**:
```
Client â†’ Next.js API Routes â†’ Firebase (Auth/Firestore)
```

**ë³‘ëª© ì§€ì **:
1. **Firestore ì½ê¸°/ì“°ê¸° ë¹„ìš©**: ì‚¬ìš©ì ì¦ê°€ ì‹œ ë¹„ìš© ì„ í˜• ì¦ê°€
2. **í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§**: ëŒ€ê·œëª¨ ë°ì´í„° ë¡œë“œ ì‹œ ì„±ëŠ¥ ì €í•˜
3. **Firebase ë¬´ë£Œ í”Œëœ ì œí•œ**: Quota ì´ˆê³¼ ìš°ë ¤

**í‰ê°€**:
- âš ï¸ **ì¤‘ì†Œ ê·œëª¨**: 1,000~10,000 ì‚¬ìš©ì ì í•©
- ğŸ”´ **ëŒ€ê·œëª¨**: 100,000+ ì‚¬ìš©ì ì‹œ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„ í•„ìš”
- ğŸ”´ **ë¹„ìš© ê´€ë¦¬**: Firestore ë¹„ìš© ëª¨ë‹ˆí„°ë§ í•„ìˆ˜

#### 5.2.2 ë°ì´í„° ê·œëª¨ í™•ì¥
**í˜„ì¬ ë°ì´í„° êµ¬ì¡°**:
```
users/                          # ì‚¬ìš©ìë³„ 1ê°œ ë¬¸ì„œ
weekProgress/{userId_weekId}    # ì‚¬ìš©ìÃ—ì£¼ì°¨ (ìµœëŒ€ 32ê°œ/ìœ ì €)
activity_progress/{progressId}  # í™œë™ë³„ ì§„í–‰ë¥ 
journals/                       # ì¼ë³„ ì €ë„
posts/                          # ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€
```

**í‰ê°€**:
- âœ… **ì •ê·œí™”**: ì¤‘ë³µ ë°ì´í„° ìµœì†Œí™”
- âœ… **ì¸ë±ì‹±**: firestore.indexes.json ì •ì˜ë¨
- âš ï¸ **ì¿¼ë¦¬ ë³µì¡ë„**: ë³µí•© ì¿¼ë¦¬ ì‹œ ì¸ë±ìŠ¤ ì¶”ê°€ í•„ìš”
- âš ï¸ **ë°ì´í„° ì¦ê°€**: journals, posts ë¬´í•œ ì¦ê°€ ê°€ëŠ¥

**ê°œì„  ë°©í–¥**:
```
1. í˜ì´ì§€ë„¤ì´ì…˜: posts, journals í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„
2. ë°ì´í„° ì•„ì¹´ì´ë¹™: ì˜¤ë˜ëœ ë°ì´í„° ë³„ë„ ì €ì¥ì†Œë¡œ ì´ë™
3. ìºì‹± ì „ëµ: Redis ë“± ìºì‹œ ë ˆì´ì–´ ì¶”ê°€ ê²€í† 
```

#### 5.2.3 ê¸°ëŠ¥ í™•ì¥ì„±
**í˜„ì¬ êµ¬ì¡°ì˜ í™•ì¥ í¬ì¸íŠ¸**:

1. **Activity íƒ€ì…**: 6ê°€ì§€ â†’ ë¬´í•œ í™•ì¥ ê°€ëŠ¥
2. **ë ˆë²¨**: 4ë‹¨ê³„ (A1-B2) â†’ C1, C2 ì¶”ê°€ ê°€ëŠ¥
3. **ì»¤ë¦¬í˜ëŸ¼**: 8ì£¼ â†’ 12ì£¼, 16ì£¼ í™•ì¥ ê°€ëŠ¥
4. **ì»¤ë®¤ë‹ˆí‹°**: ê²Œì‹œíŒ â†’ ì±„íŒ…, í™”ìƒ í†µí™” ì¶”ê°€ ê°€ëŠ¥

**í‰ê°€**: âœ… í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„ë¨

### 5.3 ìœ ì§€ë³´ìˆ˜ì„±

#### 5.3.1 ì½”ë“œ ê°€ë…ì„±
- âœ… **ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬**: í‰ê·  100~200ì¤„
- âœ… **ëª…ëª… ê·œì¹™**: ì¼ê´€ëœ camelCase, PascalCase
- âœ… **ì£¼ì„**: ì¤‘ìš” ë¡œì§ì— ì£¼ì„ ì¡´ì¬
- âš ï¸ **ê¸´ íŒŒì¼**: ì¼ë¶€ í˜ì´ì§€ 300ì¤„+ (dashboard/page.tsx)

#### 5.3.2 í…ŒìŠ¤íŠ¸ ìš©ì´ì„±
**í˜„ì¬ ìƒíƒœ**:
```
tests/
â”œâ”€â”€ e2e/            # ë¹ˆ í´ë”
â”œâ”€â”€ integration/    # ë¹ˆ í´ë”
â””â”€â”€ unit/           # ë¹ˆ í´ë”
```

**í‰ê°€**:
- ğŸ”´ **í…ŒìŠ¤íŠ¸ ë¶€ì¬**: í…ŒìŠ¤íŠ¸ ì½”ë“œ 0ê°œ
- ğŸ”´ **í…ŒìŠ¤íŠ¸ ë„êµ¬ ë¯¸ì„¤ì¹˜**: Jest, Testing Library ì—†ìŒ
- ğŸ”´ **CI/CD ë¶€ì¬**: ìë™í™” í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸ ì—†ìŒ

#### 5.3.3 ë¬¸ì„œí™” ìˆ˜ì¤€
**ë¬¸ì„œ í˜„í™©**:
```
docs/
â”œâ”€â”€ adr/                        # Architecture Decision Records
â”œâ”€â”€ api/                        # API ë¬¸ì„œ
â”œâ”€â”€ architecture/               # ì•„í‚¤í…ì²˜ ë¬¸ì„œ
â”œâ”€â”€ DEVELOPMENT_ROADMAP.md      # ê°œë°œ ë¡œë“œë§µ
â”œâ”€â”€ FIREBASE_INDEX_GUIDE.md     # Firebase ì¸ë±ìŠ¤ ê°€ì´ë“œ
â”œâ”€â”€ DEPLOYMENT.md               # ë°°í¬ ê°€ì´ë“œ
â””â”€â”€ TESTING_GUIDE.md            # í…ŒìŠ¤íŒ… ê°€ì´ë“œ
```

**í‰ê°€**:
- âœ… **ì²´ê³„ì  ë¬¸ì„œí™”**: ADR, API, ì•„í‚¤í…ì²˜ ë¬¸ì„œ ì¡´ì¬
- âœ… **ê°œë°œ ê°€ì´ë“œ**: Firebase, ë°°í¬, í…ŒìŠ¤íŒ… ê°€ì´ë“œ ì™„ë¹„
- âœ… **ë¡œë“œë§µ**: ëª…í™•í•œ ê°œë°œ ê³„íš (DEVELOPMENT_ROADMAP.md)

---

## 6. ê°œì„  ì œì•ˆ

### 6.1 ì•„í‚¤í…ì²˜ ë ˆë²¨ ê°œì„ 

#### 6.1.1 ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ê°€
**í˜„ì¬ ë¬¸ì œ**:
- ì»´í¬ë„ŒíŠ¸ì—ì„œ Firebase SDK ì§ì ‘ í˜¸ì¶œ
- ë°ì´í„° ì ‘ê·¼ ë¡œì§ ë¶„ì‚°
- í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€

**ê°œì„  ë°©ì•ˆ**:
```typescript
// lib/repositories/UserRepository.ts
export class UserRepository {
  async getUser(uid: string): Promise<User | null> {
    const doc = await getDoc(doc(db, 'users', uid));
    return doc.exists() ? doc.data() as User : null;
  }

  async updateUser(uid: string, updates: Partial<User>): Promise<void> {
    await updateDoc(doc(db, 'users', uid), updates);
  }

  // ... CRUD ë©”ì„œë“œ
}

// hooks/useUser.ts
export function useUser(uid: string) {
  const repository = new UserRepository();
  return useQuery({
    queryKey: ['user', uid],
    queryFn: () => repository.getUser(uid),
  });
}
```

**ì¥ì **:
- âœ… ë°ì´í„° ì ‘ê·¼ ë¡œì§ ì¤‘ì•™í™”
- âœ… í…ŒìŠ¤íŠ¸ ìš©ì´ (Mock ê°€ëŠ¥)
- âœ… Firebase êµì²´ ì‹œ Repositoryë§Œ ìˆ˜ì •

#### 6.1.2 ìƒíƒœ ê´€ë¦¬ ì „ëµ ê°•í™”
**í˜„ì¬ ë¬¸ì œ**:
- Zustand 1ê°œ ìŠ¤í† ì–´ë§Œ ì‚¬ìš©
- ì¼ë¶€ ìƒíƒœê°€ ì»´í¬ë„ŒíŠ¸ì— ë¶„ì‚°

**ê°œì„  ë°©ì•ˆ**:
```typescript
// stores/index.ts
export const useAppStore = create((set, get) => ({
  // User Store
  user: null,
  setUser: (user) => set({ user }),

  // UI Store
  sidebarOpen: false,
  toggleSidebar: () => set((state) => ({ sidebarOpen: !state.sidebarOpen })),

  // Notification Store
  notifications: [],
  addNotification: (notification) => set((state) => ({
    notifications: [...state.notifications, notification]
  })),
}));

// ë˜ëŠ” ìŠ¬ë¼ì´ìŠ¤ íŒ¨í„´
import { createUserSlice } from './slices/userSlice';
import { createUISlice } from './slices/uiSlice';

export const useAppStore = create((set, get) => ({
  ...createUserSlice(set, get),
  ...createUISlice(set, get),
}));
```

**ì¥ì **:
- âœ… ì „ì—­ ìƒíƒœ ì¤‘ì•™ ê´€ë¦¬
- âœ… ìƒíƒœ ë³€ê²½ ë¡œì§ ëª…í™•í™”
- âœ… DevTools í™œìš© ìš©ì´

#### 6.1.3 API Layer ì¶”ê°€ (ì„ íƒì )
**í˜„ì¬**: í´ë¼ì´ì–¸íŠ¸ â†’ Firebase SDK ì§ì ‘ í˜¸ì¶œ

**ê°œì„ **: í´ë¼ì´ì–¸íŠ¸ â†’ Next.js API Routes â†’ Firebase

```typescript
// app/api/users/[uid]/route.ts
export async function GET(
  request: Request,
  { params }: { params: { uid: string } }
) {
  const repository = new UserRepository();
  const user = await repository.getUser(params.uid);
  return NextResponse.json(user);
}

// hooks/useUser.ts
export function useUser(uid: string) {
  return useQuery({
    queryKey: ['user', uid],
    queryFn: async () => {
      const res = await fetch(`/api/users/${uid}`);
      return res.json();
    },
  });
}
```

**ì¥ì **:
- âœ… ì„œë²„ ì‚¬ì´ë“œ ê²€ì¦
- âœ… API ë²„ì „ ê´€ë¦¬ ê°€ëŠ¥
- âœ… Rate Limiting ì¶”ê°€ ê°€ëŠ¥

**ë‹¨ì **:
- âš ï¸ ì¶”ê°€ ë ˆì´í„´ì‹œ
- âš ï¸ Firebase ì¥ì  (ì‹¤ì‹œê°„ì„±) ì¼ë¶€ ìƒì‹¤

### 6.2 êµ¬ì¡°ì  ë¦¬íŒ©í† ë§

#### 6.2.1 ëŒ€í˜• ì»´í¬ë„ŒíŠ¸ ë¶„í•´
**ëŒ€ìƒ**: `app/dashboard/page.tsx` (325ì¤„)

**í˜„ì¬ êµ¬ì¡°**:
```typescript
export default function DashboardPage() {
  // 8ê°œ í›…
  // í™˜ì˜ ë©”ì‹œì§€
  // í†µê³„ ì¹´ë“œ
  // ì£¼ê°„ ì°¨íŠ¸
  // ì „ì²´ ì§„í–‰ë¥ 
  // í•™ìŠµ í†µê³„
  // ë¹ ë¥¸ ì‹œì‘
}
```

**ê°œì„ **:
```typescript
// app/dashboard/page.tsx (50ì¤„)
export default function DashboardPage() {
  return (
    <DashboardLayout>
      <WelcomeSection />
      <StatsGrid />
      <WeeklyChartSection />
      <OverallProgressSection />
      <LearningStatsSection />
      <QuickStartSection />
    </DashboardLayout>
  );
}

// components/dashboard/sections/WelcomeSection.tsx
export function WelcomeSection() {
  const { currentUser } = useAuth();
  const { learnedToday } = useStreak(currentUser?.uid);
  return (/* ... */);
}
```

**ì¥ì **:
- âœ… ê°€ë…ì„± í–¥ìƒ
- âœ… ì¬ì‚¬ìš© ê°€ëŠ¥
- âœ… í…ŒìŠ¤íŠ¸ ìš©ì´

#### 6.2.2 íƒ€ì… ì •ì˜ ê°œì„ 
**í˜„ì¬**: ê° íŒŒì¼ì— íƒ€ì… ì •ì˜ ë¶„ì‚°

**ê°œì„ **:
```typescript
// types/api/index.ts
export namespace API {
  export namespace User {
    export type GetUserResponse = User | null;
    export type UpdateUserRequest = Partial<User>;
    export type UpdateUserResponse = { success: boolean };
  }

  export namespace Progress {
    export type GetProgressResponse = UserProgress[];
    export type UpdateProgressRequest = { activityId: string; completed: boolean };
  }
}

// ì‚¬ìš©
import { API } from '@/types/api';
const response: API.User.GetUserResponse = await fetchUser(uid);
```

**ì¥ì **:
- âœ… API íƒ€ì… ëª…í™•í™”
- âœ… ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ì¶©ëŒ ë°©ì§€
- âœ… ë¬¸ì„œ ì—­í• 

#### 6.2.3 ì—ëŸ¬ ì²˜ë¦¬ í‘œì¤€í™”
**í˜„ì¬**: ê° ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°œë³„ ì—ëŸ¬ ì²˜ë¦¬

**ê°œì„ **:
```typescript
// lib/errors/AppError.ts
export class AppError extends Error {
  constructor(
    public code: string,
    message: string,
    public statusCode: number = 500
  ) {
    super(message);
    this.name = 'AppError';
  }
}

export class AuthError extends AppError {
  constructor(message: string) {
    super('AUTH_ERROR', message, 401);
  }
}

// lib/errors/errorHandler.ts
export function handleError(error: unknown): AppError {
  if (error instanceof AppError) {
    return error;
  }

  if (error instanceof FirebaseError) {
    return mapFirebaseError(error);
  }

  return new AppError('UNKNOWN_ERROR', 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
}

// ì‚¬ìš©
try {
  await signIn(email, password);
} catch (error) {
  const appError = handleError(error);
  toast.error(appError.message);
}
```

**ì¥ì **:
- âœ… ì¼ê´€ëœ ì—ëŸ¬ ì²˜ë¦¬
- âœ… ì—ëŸ¬ ì½”ë“œ í‘œì¤€í™”
- âœ… ë¡œê¹… ì¤‘ì•™í™”

### 6.3 ì¥ê¸°ì  ê¸°ìˆ  ë¶€ì±„ ê´€ë¦¬

#### 6.3.1 í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶•
**ìš°ì„ ìˆœìœ„**: ğŸ”´ ë†’ìŒ

**ë‹¨ê³„**:
```bash
# 1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ë„êµ¬ ì„¤ì¹˜
npm install -D jest @testing-library/react @testing-library/jest-dom
npm install -D @testing-library/user-event @testing-library/hooks
npm install -D vitest @vitejs/plugin-react

# 2ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì„¤ì •
# vitest.config.ts ìƒì„±

# 3ë‹¨ê³„: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
# tests/unit/utils/dateUtils.test.ts

# 4ë‹¨ê³„: í›… í…ŒìŠ¤íŠ¸
# tests/unit/hooks/useAuth.test.ts

# 5ë‹¨ê³„: ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
# tests/unit/components/ui/Button.test.tsx

# 6ë‹¨ê³„: í†µí•© í…ŒìŠ¤íŠ¸
# tests/integration/auth-flow.test.ts

# 7ë‹¨ê³„: E2E í…ŒìŠ¤íŠ¸
npm install -D @playwright/test
# tests/e2e/login.spec.ts
```

**ëª©í‘œ ì»¤ë²„ë¦¬ì§€**:
- ìœ í‹¸ë¦¬í‹°: 90%+
- í›…: 80%+
- ì»´í¬ë„ŒíŠ¸: 70%+
- í†µí•©: 50%+

#### 6.3.2 ì„±ëŠ¥ ìµœì í™”
**ìš°ì„ ìˆœìœ„**: âš ï¸ ì¤‘ê°„

**1. ë²ˆë“¤ í¬ê¸° ìµœì í™”**
```javascript
// next.config.ts
import { BundleAnalyzerPlugin } from '@next/bundle-analyzer';

const nextConfig = {
  // ... ê¸°ì¡´ ì„¤ì •

  webpack: (config, { isServer }) => {
    if (!isServer) {
      config.plugins.push(new BundleAnalyzerPlugin());
    }
    return config;
  },
};
```

**2. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**
```typescript
// í˜„ì¬: ëª¨ë“  Activity ì»´í¬ë„ŒíŠ¸ ì •ì  import
import VocabularyActivity from './VocabularyActivity';
import ReadingActivity from './ReadingActivity';

// ê°œì„ : ë™ì  import
const VocabularyActivity = dynamic(() => import('./VocabularyActivity'));
const ReadingActivity = dynamic(() => import('./ReadingActivity'));
```

**3. ì´ë¯¸ì§€ ìµœì í™”**
```typescript
// next.config.ts
const nextConfig = {
  images: {
    formats: ['image/avif', 'image/webp'],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
};
```

#### 6.3.3 ë³´ì•ˆ ê°•í™”
**ìš°ì„ ìˆœìœ„**: ğŸ”´ ë†’ìŒ

**1. í™˜ê²½ë³€ìˆ˜ ê²€ì¦ ê°•í™”**
```typescript
// lib/env.ts
import { z } from 'zod';

const envSchema = z.object({
  NEXT_PUBLIC_FIREBASE_API_KEY: z.string().min(1),
  NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN: z.string().min(1),
  // ... ëª¨ë“  í™˜ê²½ë³€ìˆ˜
});

export const env = envSchema.parse(process.env);
```

**2. CSP (Content Security Policy) ì¶”ê°€**
```typescript
// next.config.ts
const nextConfig = {
  async headers() {
    return [
      {
        source: '/:path*',
        headers: [
          {
            key: 'Content-Security-Policy',
            value: "default-src 'self'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; ..."
          }
        ]
      }
    ];
  }
};
```

**3. Rate Limiting**
```typescript
// lib/rateLimit.ts
import { Ratelimit } from '@upstash/ratelimit';

export const ratelimit = new Ratelimit({
  redis: /* ... */,
  limiter: Ratelimit.slidingWindow(10, '10 s'),
});

// app/api/users/route.ts
export async function POST(request: Request) {
  const ip = request.headers.get('x-forwarded-for');
  const { success } = await ratelimit.limit(ip);

  if (!success) {
    return new Response('Too Many Requests', { status: 429 });
  }
  // ...
}
```

#### 6.3.4 ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
**ìš°ì„ ìˆœìœ„**: âš ï¸ ì¤‘ê°„

**1. Sentry í†µí•©**
```typescript
// sentry.client.config.ts
import * as Sentry from '@sentry/nextjs';

Sentry.init({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 1.0,
  environment: process.env.NODE_ENV,
});
```

**2. êµ¬ì¡°í™”ëœ ë¡œê¹…**
```typescript
// lib/logger.ts
export const logger = {
  info: (message: string, meta?: object) => {
    console.log(JSON.stringify({ level: 'info', message, ...meta, timestamp: new Date() }));
  },
  error: (message: string, error?: Error, meta?: object) => {
    console.error(JSON.stringify({ level: 'error', message, error: error?.stack, ...meta }));
  },
};

// ì‚¬ìš©
logger.error('Failed to fetch user', error, { userId: uid });
```

#### 6.3.5 ë¬¸ì„œí™” ìë™í™”
**ìš°ì„ ìˆœìœ„**: ğŸŸ¢ ë‚®ìŒ

**1. Storybook í†µí•©**
```bash
npx sb init
```

**2. TypeDoc ìë™ ìƒì„±**
```bash
npm install -D typedoc
# package.json
"scripts": {
  "docs": "typedoc --out docs/api src"
}
```

**3. ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™”**
```typescript
/**
 * ì‚¬ìš©ì í†µê³„ë¥¼ í‘œì‹œí•˜ëŠ” ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
 *
 * @param title - ì¹´ë“œ ì œëª©
 * @param value - í‘œì‹œí•  ê°’
 * @param icon - ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
 * @param color - í…Œë§ˆ ìƒ‰ìƒ
 * @param badge - ë°°ì§€ í…ìŠ¤íŠ¸ (ì„ íƒ)
 * @param progress - ì§„í–‰ë¥  (0-100)
 *
 * @example
 * ```tsx
 * <StatsCard
 *   title="ì´ í•™ìŠµ ì‹œê°„"
 *   value="5ì‹œê°„ 30ë¶„"
 *   icon={<ClockIcon />}
 *   color="primary"
 * />
 * ```
 */
export function StatsCard({ title, value, icon, color, badge, progress }: StatsCardProps) {
  // ...
}
```

### 6.4 í™•ì¥ì„± ê°œì„ 

#### 6.4.1 Multi-tenancy ì¤€ë¹„
**í˜„ì¬**: ë‹¨ì¼ ì•±

**í–¥í›„**: ê¸°ê´€ë³„ ë¶„ë¦¬ (í•™êµ, í•™ì› ë“±)

```typescript
// types/tenant.ts
export interface Tenant {
  id: string;
  name: string;
  domain: string;
  settings: TenantSettings;
}

// middleware.ts
export function middleware(request: NextRequest) {
  const hostname = request.headers.get('host');
  const tenant = await getTenantByDomain(hostname);

  // í…Œë„ŒíŠ¸ ì •ë³´ë¥¼ í—¤ë”ì— ì¶”ê°€
  request.headers.set('x-tenant-id', tenant.id);
  return NextResponse.next();
}
```

#### 6.4.2 êµ­ì œí™” (i18n) ì¤€ë¹„
```bash
npm install next-intl
```

```typescript
// i18n/config.ts
export const locales = ['ko', 'en', 'ja', 'zh'] as const;
export const defaultLocale = 'ko' as const;

// messages/ko.json
{
  "dashboard": {
    "welcome": "ì•ˆë…•í•˜ì„¸ìš”, {nickname}ë‹˜!",
    "stats": {
      "totalTime": "ì´ í•™ìŠµ ì‹œê°„"
    }
  }
}

// app/[locale]/layout.tsx
import { NextIntlClientProvider } from 'next-intl';

export default function LocaleLayout({ children, params: { locale } }) {
  return (
    <NextIntlClientProvider locale={locale}>
      {children}
    </NextIntlClientProvider>
  );
}
```

#### 6.4.3 í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜
**í–¥í›„ í™•ì¥**: ì¨ë“œíŒŒí‹° í†µí•©

```typescript
// lib/plugins/PluginManager.ts
export interface Plugin {
  id: string;
  name: string;
  version: string;
  initialize: () => Promise<void>;
  onUserLogin?: (user: User) => void;
  onActivityComplete?: (activity: Activity) => void;
}

export class PluginManager {
  private plugins: Map<string, Plugin> = new Map();

  async register(plugin: Plugin) {
    await plugin.initialize();
    this.plugins.set(plugin.id, plugin);
  }

  trigger(event: string, data: any) {
    this.plugins.forEach(plugin => {
      const handler = plugin[`on${event}`];
      if (handler) handler(data);
    });
  }
}

// plugins/analytics/GoogleAnalyticsPlugin.ts
export const GoogleAnalyticsPlugin: Plugin = {
  id: 'google-analytics',
  name: 'Google Analytics',
  version: '1.0.0',
  initialize: async () => {
    // GA ì´ˆê¸°í™”
  },
  onActivityComplete: (activity) => {
    gtag('event', 'activity_complete', { activity_id: activity.id });
  },
};
```

---

## 7. ê²°ë¡ 

### 7.1 ì „ì²´ í‰ê°€ ìš”ì•½

#### 7.1.1 ê°•ì  (Strengths)
1. **ìµœì‹  ê¸°ìˆ  ìŠ¤íƒ**: Next.js 15, React 19, TypeScript 5 ë“± ìµœì‹  ë²„ì „ ì‚¬ìš©
2. **ëª…í™•í•œ ì•„í‚¤í…ì²˜**: ê³„ì¸µ êµ¬ì¡°ê°€ ëª…í™•í•˜ê³  ì—­í•  ë¶„ë¦¬ê°€ ì˜ë¨
3. **íƒ€ì… ì•ˆì „ì„±**: TypeScript strict ëª¨ë“œë¡œ ë†’ì€ íƒ€ì… ì•ˆì „ì„± í™•ë³´
4. **ë³´ì•ˆ ê³ ë ¤**: Firestore Security Rulesê°€ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„ë¨
5. **ë¬¸ì„œí™”**: ADR, API ë¬¸ì„œ, ê°œë°œ ë¡œë“œë§µ ë“± ì˜ ì‘ì„±ë¨
6. **ì»¤ìŠ¤í…€ í›…**: 17ê°œì˜ ë„ë©”ì¸ë³„ í›…ìœ¼ë¡œ ë¡œì§ ì¬ì‚¬ìš©ì„± ë†’ìŒ
7. **UI/UX**: Tailwind CSS, Headless UIë¡œ í˜„ëŒ€ì ì¸ ë””ìì¸
8. **ë°ì´í„° êµ¬ì¡°**: ì˜ ì •ê·œí™”ëœ Firestore ì»¬ë ‰ì…˜ êµ¬ì¡°

#### 7.1.2 ì•½ì  (Weaknesses)
1. **í…ŒìŠ¤íŠ¸ ë¶€ì¬**: ë‹¨ìœ„/í†µí•©/E2E í…ŒìŠ¤íŠ¸ ì½”ë“œ 0ê°œ
2. **ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ë¶€ì¬**: Firebase SDK ì§ì ‘ í˜¸ì¶œë¡œ í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€
3. **ì„±ëŠ¥ ìµœì í™” ë¶€ì¡±**: ë²ˆë“¤ ë¶„ì„, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë¯¸ì ìš©
4. **ëª¨ë‹ˆí„°ë§ ë¶€ì¬**: Sentry ë“± ì—ëŸ¬ ì¶”ì  ë„êµ¬ ë¯¸ì„¤ì¹˜
5. **ì¼ë¶€ ëŒ€í˜• ì»´í¬ë„ŒíŠ¸**: dashboard/page.tsx ë“± 300ì¤„+ íŒŒì¼ ì¡´ì¬
6. **Zustand í™œìš©ë„ ë‚®ìŒ**: 1ê°œ ìŠ¤í† ì–´ë§Œ ì‚¬ìš©
7. **CI/CD ë¶€ì¬**: ìë™í™” í…ŒìŠ¤íŠ¸/ë°°í¬ íŒŒì´í”„ë¼ì¸ ì—†ìŒ

#### 7.1.3 ê¸°íšŒ (Opportunities)
1. **êµ­ì œí™” (i18n)**: ë‹¤êµ­ì–´ ì§€ì›ìœ¼ë¡œ ê¸€ë¡œë²Œ ì§„ì¶œ ê°€ëŠ¥
2. **AI í†µí•©**: ChatGPT APIë¡œ ê°œì¸í™” í•™ìŠµ ì½”ì¹­ ê°€ëŠ¥
3. **ìŒì„± ì¸ì‹**: Web Speech APIë¡œ ë°œìŒ í‰ê°€ ê¸°ëŠ¥ ì¶”ê°€
4. **ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜**: ë” ë§ì€ ë°°ì§€, ë¦¬ë”ë³´ë“œ, ì±Œë¦°ì§€ ì¶”ê°€
5. **ì˜¤í”„ë¼ì¸ ëª¨ë“œ**: PWAë¡œ ì˜¤í”„ë¼ì¸ í•™ìŠµ ì§€ì›
6. **ì†Œì…œ ê¸°ëŠ¥**: ì¹œêµ¬ ì¶”ê°€, ê·¸ë£¹ ìŠ¤í„°ë”” ê°•í™”

#### 7.1.4 ìœ„í˜‘ (Threats)
1. **Firebase ë¹„ìš©**: ì‚¬ìš©ì ì¦ê°€ ì‹œ Firestore ë¹„ìš© ê¸‰ì¦ ê°€ëŠ¥
2. **ê²½ìŸì‚¬**: Duolingo, Memrise ë“± ê¸°ì¡´ ê°•ì ì¡´ì¬
3. **ê¸°ìˆ  ë¶€ì±„**: í…ŒìŠ¤íŠ¸ ì—†ì´ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ë¶€ì±„ ëˆ„ì 
4. **í™•ì¥ì„±**: 10ë§Œ+ ì‚¬ìš©ì ì‹œ ì•„í‚¤í…ì²˜ ì¬ì„¤ê³„ í•„ìš”

### 7.2 ìš°ì„ ìˆœìœ„ ê°œì„  ë¡œë“œë§µ

#### Phase 1: ê¸°ë°˜ ê°•í™” (1-2ê°œì›”)
1. **í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶•** ğŸ”´
   - Vitest ì„¤ì •
   - ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸ (90% ì»¤ë²„ë¦¬ì§€)
   - ì£¼ìš” í›… í…ŒìŠ¤íŠ¸ (80% ì»¤ë²„ë¦¬ì§€)

2. **ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ê°€** ğŸ”´
   - Repository íŒ¨í„´ êµ¬í˜„
   - Firebase ë¡œì§ ë¶„ë¦¬
   - Mock í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•˜ê²Œ

3. **ì—ëŸ¬ ì²˜ë¦¬ í‘œì¤€í™”** ğŸ”´
   - AppError í´ë˜ìŠ¤ êµ¬í˜„
   - ì „ì—­ ì—ëŸ¬ í•¸ë“¤ëŸ¬
   - ì—ëŸ¬ ë¡œê¹… ì¤‘ì•™í™”

#### Phase 2: ì„±ëŠ¥ ìµœì í™” (1ê°œì›”)
1. **ë²ˆë“¤ í¬ê¸° ìµœì í™”** âš ï¸
   - Bundle Analyzer ì„¤ì •
   - ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì ìš©
   - Tree Shaking ê²€ì¦

2. **ì´ë¯¸ì§€ ìµœì í™”** âš ï¸
   - Next.js Image ì„¤ì • ê°•í™”
   - AVIF, WebP ì§€ì›
   - Lazy Loading

3. **ìºì‹± ì „ëµ** âš ï¸
   - React Query ì„¤ì • ìµœì í™”
   - ISR (Incremental Static Regeneration)
   - CDN ìºì‹±

#### Phase 3: í™•ì¥ì„± ê°•í™” (2-3ê°œì›”)
1. **ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§** âš ï¸
   - ëŒ€í˜• ì»´í¬ë„ŒíŠ¸ ë¶„í•´
   - Atomic Design ì ìš©
   - Storybook í†µí•©

2. **ìƒíƒœ ê´€ë¦¬ ê°•í™”** âš ï¸
   - Zustand ìŠ¬ë¼ì´ìŠ¤ íŒ¨í„´
   - ë” ë§ì€ ì „ì—­ ìƒíƒœ ê´€ë¦¬
   - DevTools í™œìš©

3. **CI/CD êµ¬ì¶•** âš ï¸
   - GitHub Actions ì„¤ì •
   - ìë™ í…ŒìŠ¤íŠ¸ íŒŒì´í”„ë¼ì¸
   - Vercel ìë™ ë°°í¬

#### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (3-6ê°œì›”)
1. **êµ­ì œí™” (i18n)** ğŸŸ¢
   - next-intl í†µí•©
   - ì˜ì–´, ì¼ì–´, ì¤‘êµ­ì–´ ì§€ì›
   - RTL ë ˆì´ì•„ì›ƒ ì§€ì›

2. **ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…** ğŸŸ¢
   - Sentry í†µí•©
   - êµ¬ì¡°í™”ëœ ë¡œê¹…
   - ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

3. **í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜** ğŸŸ¢
   - PluginManager êµ¬í˜„
   - ì¨ë“œíŒŒí‹° í†µí•© ì¤€ë¹„
   - Webhook ì‹œìŠ¤í…œ

### 7.3 ìµœì¢… í‰ê°€ ì ìˆ˜

| í‰ê°€ í•­ëª© | ì ìˆ˜ | ë¹„ê³  |
|----------|------|------|
| **ì•„í‚¤í…ì²˜ êµ¬ì¡°** | 8.5/10 | ëª…í™•í•œ ê³„ì¸µ, ì¼ë¶€ ê°œì„  í•„ìš” |
| **ê¸°ìˆ  ìŠ¤íƒ** | 9.0/10 | ìµœì‹  ë²„ì „, ì ì ˆí•œ ì„ íƒ |
| **íƒ€ì… ì•ˆì „ì„±** | 9.0/10 | Strict ëª¨ë“œ, ì˜ ì •ì˜ëœ íƒ€ì… |
| **ì½”ë“œ í’ˆì§ˆ** | 7.5/10 | ì¼ë¶€ ëŒ€í˜• ì»´í¬ë„ŒíŠ¸, í…ŒìŠ¤íŠ¸ ë¶€ì¬ |
| **ì¬ì‚¬ìš©ì„±** | 8.0/10 | ì»¤ìŠ¤í…€ í›…, UI ì»´í¬ë„ŒíŠ¸ ì˜ ë¶„ë¦¬ |
| **í™•ì¥ì„±** | 7.0/10 | ì¤‘ì†Œ ê·œëª¨ ì í•©, ëŒ€ê·œëª¨ ì¬ì„¤ê³„ í•„ìš” |
| **ë³´ì•ˆ** | 8.5/10 | Firestore Rules ì²´ê³„ì  |
| **ë¬¸ì„œí™”** | 8.5/10 | ADR, ê°€ì´ë“œ ì˜ ì‘ì„±ë¨ |
| **ì„±ëŠ¥** | 6.5/10 | ìµœì í™” ë¶€ì¡± |
| **í…ŒìŠ¤íŠ¸** | 2.0/10 | í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¶€ì¬ |
| **ìœ ì§€ë³´ìˆ˜ì„±** | 7.5/10 | ê°€ë…ì„± ì¢‹ìœ¼ë‚˜ í…ŒìŠ¤íŠ¸ í•„ìš” |

**ì „ì²´ í‰ê· **: **7.5/10** â­â­â­â­â­â­â­âœ°âœ°âœ°

### 7.4 ê²°ë¡ 
ì´ í”„ë¡œì íŠ¸ëŠ” **ìµœì‹  ê¸°ìˆ  ìŠ¤íƒê³¼ ëª…í™•í•œ ì•„í‚¤í…ì²˜**ë¥¼ ê°–ì¶˜ **ì¤€ìˆ˜í•œ ìˆ˜ì¤€ì˜ ì–¸ì–´ í•™ìŠµ í”Œë«í¼**ì…ë‹ˆë‹¤.

**í•µì‹¬ ê°•ì **:
- Next.js 15 App Routerë¥¼ í™œìš©í•œ í˜„ëŒ€ì ì¸ í’€ìŠ¤íƒ ì•„í‚¤í…ì²˜
- TypeScript strict ëª¨ë“œë¡œ ë†’ì€ íƒ€ì… ì•ˆì „ì„±
- Firebaseë¥¼ í™œìš©í•œ íš¨ìœ¨ì ì¸ ë°±ì—”ë“œ í†µí•©
- 17ê°œì˜ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì˜ ë¶„ë¦¬
- ì²´ê³„ì ì¸ Firestore Security Rules

**ê°œì„ ì´ ì‹œê¸‰í•œ ë¶€ë¶„**:
1. **í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶•** (ìµœìš°ì„ )
2. **ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ê°€** (í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±)
3. **ì„±ëŠ¥ ìµœì í™”** (ë²ˆë“¤ í¬ê¸°, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…)

**ì¥ê¸°ì  ì„±ì¥ ê°€ëŠ¥ì„±**:
- í˜„ì¬ êµ¬ì¡°ë¡œ **1,000~10,000 ì‚¬ìš©ì** ì¶©ë¶„íˆ ì§€ì› ê°€ëŠ¥
- í…ŒìŠ¤íŠ¸ì™€ ìµœì í™” ê°•í™” ì‹œ **10ë§Œ+ ì‚¬ìš©ì** ê°€ëŠ¥
- ëª…í™•í•œ ì•„í‚¤í…ì²˜ë¡œ ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´
- êµ­ì œí™”, AI í†µí•© ë“± í™•ì¥ ì—¬ì§€ í¼

**ê¶Œì¥ì‚¬í•­**:
1. ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• ì‹œì‘
2. ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ì¶”ê°€ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„± í™•ë³´
3. CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•ìœ¼ë¡œ ìë™í™”
4. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ë„êµ¬ í†µí•©
5. ì ì§„ì ìœ¼ë¡œ ëŒ€í˜• ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§

ì´ í”„ë¡œì íŠ¸ëŠ” **íƒ„íƒ„í•œ ê¸°ì´ˆ ìœ„ì— ì„¸ì›Œì§„ ìœ ë§í•œ í”Œë«í¼**ì´ë©°, ì œì•ˆëœ ê°œì„ ì‚¬í•­ë“¤ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì ìš©í•˜ë©´ **í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ê¸‰ ì• í”Œë¦¬ì¼€ì´ì…˜**ìœ¼ë¡œ ë°œì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

**ë¬¸ì„œ ë**

ì‘ì„±ì: Claude (System Architect)
ì‘ì„±ì¼: 2025-10-09
ë²„ì „: 1.0.0
